<!DOCTYPE HTML>
<html dir="ltr" lang=" en-US">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/EFM-Database/assets/css/rapport.css">
    <link rel="stylesheet" href="/EFM-Database/assets/css/customRapport.css">
    <title> Rapport </title>

    <!-- TODO html-1 : utilisation des fichiers locaux en de rupture de connexion internet dans la classe   -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plantuml-js@latest/dist/plantuml.min.css"> <script src="https://cdn.jsdelivr.net/npm/plantuml-js@latest/dist/plantuml.min.js"></script>
</head>
<body>
    <div class="book">
        <div id="menu_rapports">
            <a id="rapport_global-icon" href="/EFM-Database/" >
                <i class="fas fa-list"></i>
            </a>
            
            <a id="rapport_global-icon" href="/EFM-Database/pkg_global/rapport" >
                <i class="fas fa-file-word"></i>
            </a>
            <a id="presentation-icon" href="/EFM-Database/pkg_global/presentation" target="_blank">
                <i class="fas fa-file-powerpoint"></i>
            </a>
            
        </div>
       
        <div class="page">
            
<!--<p>pkg_global/table-de-matiere.md</p>
-->
<h1 id="table-de-matiere">Table des matiÃ¨res</h1>

<!--<p>pkg_variante_1/projet-v1.md</p>
-->
<table class="word-style">
        <tbody>
            <tr>
              <td>
                    <img src="/EFM-Database/assets/images/logo.png" alt="Logo" />
                </td>
                <td colspan="2" class="header">
                    <p>Office de la Formation Professionnelle et de la Promotion du Travail</p>
                    <p>Direction RÃ©gionale Nord Ouest II</p>
                </td>
            </tr>
            <tr>
               <td class="bold">Solicode</td>
               <td class="bold">Examen de Fin de Module</td>
               <td class="bold">Date EFM : 12/02/2025</td>
            </tr>
            <tr>
                <td class="bold">FiliÃ¨re : DMB</td>
                <td class="highlight">Base de donnÃ©es</td>
                <td class="bold">DurÃ©e : 1 h 30 min</td>
            </tr>
            <tr>
               <td class="bold">Groupe : 101</td>
               <td class="">Variante 1</td>
               <td class="bold">AnnÃ©e de formation : 2024/2025</td>
            </tr>
        </tbody>
</table>

<h2 id="contexte-gÃ©nÃ©ral"><strong>Contexte GÃ©nÃ©ral</strong></h2>
<p>Tu travailles sur une <strong>application Laravel</strong> permettant de gÃ©rer des articles de blog avec leurs relations :</p>
<ul>
  <li><strong>Un article appartient Ã  un auteur</strong> (<em>relation One-to-One avec <code class="language-plaintext highlighter-rouge">User</code></em>).</li>
  <li><strong>Un article peut avoir plusieurs commentaires</strong> (<em>relation One-to-Many avec <code class="language-plaintext highlighter-rouge">Comment</code></em>).</li>
  <li><strong>Un article peut appartenir Ã  plusieurs catÃ©gories</strong> (<em>relation Many-to-Many avec <code class="language-plaintext highlighter-rouge">Category</code></em>).</li>
</ul>

<p>Lâ€™application doit afficher les articles, mettre Ã  jour certaines de leurs donnÃ©es et permettre lâ€™Ã©dition et la suppression des articles.</p>

<p>Lâ€™examen est divisÃ© en <strong>deux parties</strong> :</p>

<ol>
  <li><strong>Partie 1 : Live Coding (30 minutes, 20 points)</strong>
    <ul>
      <li>Affichage des articles et de leurs relations.</li>
      <li>IncrÃ©mentation du nombre de vues de lâ€™article et de ses commentaires via un Service.</li>
      <li>Ajout automatique de la catÃ©gorie <code class="language-plaintext highlighter-rouge">Populaire</code> pour les articles ayant plus de 10 vues.</li>
    </ul>
  </li>
  <li><strong>Partie 2 : Mini-Projet (45 minutes, 20 points)</strong>
    <ul>
      <li>Ajout dâ€™un formulaire permettant de modifier les catÃ©gories associÃ©es Ã  un article.</li>
      <li>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ pour chaque article.</li>
      <li>AmÃ©lioration du design de la page avec du CSS.</li>
    </ul>
  </li>
</ol>

<h1 id="partie-1--live-coding-30-min---20-points"><strong>Partie 1 : Live Coding (30 min - 20 points)</strong></h1>

<h2 id="barÃ¨me--questions-20-points"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="-crÃ©ation-de-la-classe-articleservice-6-points">** CrÃ©ation de la classe <code class="language-plaintext highlighter-rouge">ArticleService</code> (6 points)**</h3>
<ul>
  <li>
    <p><strong>Question 1 :</strong> CrÃ©e une classe <code class="language-plaintext highlighter-rouge">ArticleService</code> dans <code class="language-plaintext highlighter-rouge">app/Services/</code> et ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">getArticlesWithRelations()</code> qui retourne la liste des articles avec leurs relations (<code class="language-plaintext highlighter-rouge">user</code>, <code class="language-plaintext highlighter-rouge">comments</code>, <code class="language-plaintext highlighter-rouge">categories</code>). <em>(2 points)</em></p>
  </li>
  <li>
    <p><strong>Question 2 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementArticleViews(Article $article)</code> qui <strong>incrÃ©mente le nombre de vues</strong> de lâ€™article et sauvegarde la modification. <em>(2 points)</em></p>
  </li>
  <li>
    <p><strong>Question 3 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementCommentViews(Article $article)</code> qui <strong>incrÃ©mente le nombre de vues de chaque commentaire liÃ© Ã  cet article</strong> et sauvegarde les modifications. <em>(2 points)</em></p>
  </li>
</ul>

<h3 id="implÃ©mentation-du-articlecontroller-6-points"><strong>ImplÃ©mentation du <code class="language-plaintext highlighter-rouge">ArticleController</code> (6 points)</strong></h3>

<ul>
  <li><strong>Question 4 :</strong> CrÃ©e un contrÃ´leur <code class="language-plaintext highlighter-rouge">ArticleController</code> et injecte <code class="language-plaintext highlighter-rouge">ArticleService</code> dans son constructeur via lâ€™Injection de DÃ©pendance. <em>(2 points)</em></li>
  <li><strong>Question 5 :</strong> ImplÃ©mente une mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> qui :
    <ul>
      <li>RÃ©cupÃ¨re la liste des articles via <code class="language-plaintext highlighter-rouge">ArticleService</code>.</li>
      <li>VÃ©rifie si lâ€™article doit recevoir la catÃ©gorie <code class="language-plaintext highlighter-rouge">Populaire</code> (ajouter cette catÃ©gorie sâ€™il dÃ©passe <strong>10 vues</strong>).</li>
      <li>Retourne les donnÃ©es Ã  la vue <code class="language-plaintext highlighter-rouge">index.blade.php</code>. <em>(4 points)</em></li>
    </ul>
  </li>
</ul>

<h3 id="crÃ©ation-de-la-vue-indexbladephp-6-points"><strong>CrÃ©ation de la Vue <code class="language-plaintext highlighter-rouge">index.blade.php</code> (6 points)</strong></h3>
<ul>
  <li><strong>Question 6 :</strong> CrÃ©e une vue <code class="language-plaintext highlighter-rouge">resources/views/articles/index.blade.php</code> qui affiche les articles sous forme de tableau avec les colonnes suivantes :
    <ul>
      <li><strong>Titre de lâ€™article</strong>.</li>
      <li><strong>Nom de lâ€™auteur</strong> (<em>relation One-to-One</em>).</li>
      <li><strong>Nombre de vues de lâ€™article</strong>.</li>
      <li><strong>Liste des commentaires avec leur propre compteur de vues</strong> (<em>relation One-to-Many</em>).</li>
      <li><strong>Liste des catÃ©gories de lâ€™article</strong> (<em>relation Many-to-Many</em>). <em>(4 points)</em></li>
    </ul>
  </li>
  <li><strong>Question 7 :</strong> Tester le bon fonctionnement de lâ€™affichage et sâ€™assurer que les vues des articles et des commentaires sont bien incrÃ©mentÃ©es aprÃ¨s chaque rafraÃ®chissement de la page. <em>(2 points)</em></li>
</ul>

<h3 id="dÃ©finition-de-la-route-et-test-2-points"><strong>DÃ©finition de la Route et Test (2 points)</strong></h3>
<ul>
  <li><strong>Question 8 :</strong> DÃ©clare une route <code class="language-plaintext highlighter-rouge">/articles</code> dans <code class="language-plaintext highlighter-rouge">routes/web.php</code> pour appeler la mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> du <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 point)</em><br />
 <strong>Question 9 :</strong> Lancer lâ€™application, tester lâ€™affichage dans le navigateur et vÃ©rifier que :
    <ul>
      <li>Les <strong>articles et leurs relations</strong> sâ€™affichent correctement.</li>
      <li>Les <strong>vues des articles et des commentaires</strong> sont bien incrÃ©mentÃ©es.</li>
      <li>Les <strong>articles populaires (&gt; 10 vues) reÃ§oivent bien la catÃ©gorie <code class="language-plaintext highlighter-rouge">Populaire</code></strong>. <em>(1 point)</em></li>
    </ul>
  </li>
</ul>

<h1 id="partie-2--mini-projet-45-min---20-points"><strong>Partie 2 : Mini-Projet (45 min - 20 points)</strong></h1>

<h2 id="barÃ¨me--questions-20-points-1"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="-modification-des-catÃ©gories-dun-article-many-to-many-8-points">** Modification des catÃ©gories dâ€™un article (Many-to-Many) (8 points)**</h3>
<p><strong>Question 1 :</strong> Ajouter une mÃ©thode <code class="language-plaintext highlighter-rouge">updateArticleCategories(Article $article, array $categoryIds)</code> dans <code class="language-plaintext highlighter-rouge">ArticleService</code> pour <strong>modifier les catÃ©gories associÃ©es Ã  un article</strong>. <em>(3 points)</em><br />
 <strong>Question 2 :</strong> CrÃ©er une mÃ©thode <code class="language-plaintext highlighter-rouge">edit($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code> qui retourne un formulaire dâ€™Ã©dition avec la liste des catÃ©gories disponibles et celles dÃ©jÃ  attachÃ©es Ã  lâ€™article. <em>(2 points)</em><br />
 <strong>Question 3 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">update(Request $request, $id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code> qui met Ã  jour les catÃ©gories dâ€™un article en utilisant <code class="language-plaintext highlighter-rouge">ArticleService</code>. <em>(2 points)</em><br />
 <strong>Question 4 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">show($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 points)</em></p>

<h3 id="ajout-des-boutons-modifier-et-supprimer-6-points"><strong>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ (6 points)</strong></h3>
<p><strong>Question 4 :</strong> Ajouter dans <code class="language-plaintext highlighter-rouge">index.blade.php</code> une colonne avec <strong>un bouton â€œModifierâ€ redirigeant vers la page dâ€™Ã©dition</strong> de lâ€™article. <em>(2 points)</em><br />
 <strong>Question 5 :</strong> Ajouter <strong>un bouton â€œSupprimerâ€ avec un formulaire <code class="language-plaintext highlighter-rouge">DELETE</code></strong> pour supprimer un article. <em>(2 points)</em><br />
 <strong>Question 6 :</strong> ImplÃ©menter la mÃ©thode <code class="language-plaintext highlighter-rouge">destroy($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code> pour gÃ©rer la suppression dâ€™un article. <em>(2 points)</em></p>

<h3 id="amÃ©lioration-de-laffichage-avec-du-css-6-points"><strong>AmÃ©lioration de lâ€™affichage avec du CSS (6 points)</strong></h3>
<p><strong>Question 7 :</strong> Modifier <code class="language-plaintext highlighter-rouge">index.blade.php</code> pour afficher les articles sous forme de <strong>tableau stylisÃ©</strong> en ajoutant un fichier CSS. <em>(2 points)</em><br />
 <strong>Question 8 :</strong> AmÃ©liorer le <strong>formulaire dâ€™Ã©dition</strong> pour quâ€™il soit plus clair et agrÃ©able visuellement. <em>(2 points)</em><br />
 <strong>Question 9 :</strong> VÃ©rifier que les boutons sont bien alignÃ©s et que lâ€™affichage est <strong>responsive</strong>. <em>(2 points)</em></p>

<h2 id="remarque"><strong>Remarque</strong></h2>
<ul>
  <li><strong>Total de lâ€™examen : 40 points.</strong></li>
  <li>Tu peux ajouter en bonus :
    <ul>
      <li><strong>Une alerte de confirmation</strong> avant la suppression dâ€™un article.</li>
      <li><strong>Un systÃ¨me de filtrage</strong> pour afficher uniquement les articles dâ€™une catÃ©gorie donnÃ©e.</li>
      <li><strong>Un champ de recherche</strong> pour trouver un article par son titre.</li>
    </ul>
  </li>
</ul>

<p>Bonne chance ! ğŸš€</p>

<!--<p>pkg_variante_2/Projet-V2.md</p>
-->
<table class="word-style">
        <tbody>
            <tr>
              <td>
                    <img src="/EFM-Database/assets/images/logo.png" alt="Logo" />
                </td>
                <td colspan="2" class="header">
                    <p>Office de la Formation Professionnelle et de la Promotion du Travail</p>
                    <p>Direction RÃ©gionale Nord Ouest II</p>
                </td>
            </tr>
            <tr>
               <td class="bold">Solicode</td>
               <td class="bold">Examen de Fin de Module</td>
               <td class="bold">Date EFM : 12/02/2025</td>
            </tr>
            <tr>
                <td class="bold">FiliÃ¨re : DMB</td>
                <td class="highlight">Base de donnÃ©es</td>
                <td class="bold">DurÃ©e : 1 h 30 min</td>
            </tr>
            <tr>
               <td class="bold">Groupe : 101</td>
               <td class="">Variante 2</td>
               <td class="bold">AnnÃ©e de formation : 2024/2025</td>
            </tr>
        </tbody>
</table>

<h2 id="contexte-gÃ©nÃ©ral"><strong>Contexte GÃ©nÃ©ral</strong></h2>
<p>Tu travailles sur une <strong>application Laravel</strong> permettant aux employÃ©s de partager <strong>une seule image</strong> qui les motive.<br />
Les autres employÃ©s peuvent ensuite <strong>ajouter des messages de soutien</strong> (<em>support de motivation</em>).</p>

<p>Lâ€™application doit permettre :</p>
<ul>
  <li><strong>Chaque employÃ©</strong> peut partager <strong>une seule image de motivation</strong> (<em>relation One-to-One avec <code class="language-plaintext highlighter-rouge">Employe</code></em>).</li>
  <li><strong>Chaque image</strong> peut recevoir plusieurs <strong>messages de soutien</strong> (<em>relation One-to-Many avec <code class="language-plaintext highlighter-rouge">SupportMotivation</code></em>).</li>
  <li><strong>Les messages de soutien</strong> peuvent contenir un <strong>type spÃ©cifique de motivation</strong> (<em>relation Many-to-Many avec <code class="language-plaintext highlighter-rouge">TypeMotivation</code></em>).</li>
</ul>

<p>Lâ€™application doit afficher les images des employÃ©s, mettre Ã  jour certaines de leurs donnÃ©es et permettre lâ€™Ã©dition et la suppression des messages de soutien.</p>

<p>Lâ€™examen est divisÃ© en <strong>deux parties</strong> :</p>

<ol>
  <li><strong>ğŸ”´ Partie 1 : Live Coding (30 minutes, 20 points)</strong>
    <ul>
      <li>Affichage des images de motivation avec leurs messages de soutien.</li>
      <li>IncrÃ©mentation du nombre de vues dâ€™une image et de ses messages via un Service.</li>
      <li>Ajout automatique du type de motivation â€œEncouragementâ€ si un message reÃ§oit plus de 5 rÃ©actions.</li>
    </ul>
  </li>
  <li><strong>Partie 2 : Mini-Projet (45 minutes, 20 points)</strong>
    <ul>
      <li>Ajout dâ€™un formulaire permettant de modifier les types de motivation dâ€™un message.</li>
      <li>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ pour chaque message de soutien.</li>
      <li>AmÃ©lioration du design de la page avec du CSS.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="-partie-1--live-coding-30-min---20-points"><strong>ğŸ”´ Partie 1 : Live Coding (30 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Afficher la liste des images de motivation avec leurs messages de soutien.</li>
  <li>GÃ©rer le nombre de vues des images et des messages.</li>
  <li>Modifier dynamiquement les types de motivation dâ€™un message (<em>Many-to-Many</em>).</li>
</ul>

<h2 id="barÃ¨me--questions-20-points"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-crÃ©ation-de-la-classe-imageservice-6-points"><strong>1ï¸âƒ£ CrÃ©ation de la classe <code class="language-plaintext highlighter-rouge">ImageService</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> CrÃ©e une classe <code class="language-plaintext highlighter-rouge">ImageService</code> dans <code class="language-plaintext highlighter-rouge">app/Services/</code> et ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">getImagesWithSupport()</code> qui retourne la liste des images avec leurs relations (<code class="language-plaintext highlighter-rouge">employe</code>, <code class="language-plaintext highlighter-rouge">supportMotivation</code>, <code class="language-plaintext highlighter-rouge">typeMotivation</code>). <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementImageViews(Image $image)</code> qui <strong>incrÃ©mente le nombre de vues</strong> de lâ€™image et sauvegarde la modification. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementSupportViews(Image $image)</code> qui <strong>incrÃ©mente le nombre de vues de chaque message de soutien liÃ© Ã  cette image</strong> et sauvegarde les modifications. <em>(2 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-implÃ©mentation-du-imagecontroller-6-points"><strong>2ï¸âƒ£ ImplÃ©mentation du <code class="language-plaintext highlighter-rouge">ImageController</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> CrÃ©e un contrÃ´leur <code class="language-plaintext highlighter-rouge">ImageController</code> et injecte <code class="language-plaintext highlighter-rouge">ImageService</code> dans son constructeur via lâ€™Injection de DÃ©pendance. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> ImplÃ©mente une mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> qui :</p>
<ul>
  <li>RÃ©cupÃ¨re la liste des images via <code class="language-plaintext highlighter-rouge">ImageService</code>.</li>
  <li>VÃ©rifie si un message de soutien doit recevoir automatiquement le type de motivation â€œEncouragementâ€ lorsquâ€™il dÃ©passe <strong>5 rÃ©actions</strong>.</li>
  <li>Retourne les donnÃ©es Ã  la vue <code class="language-plaintext highlighter-rouge">index.blade.php</code>. <em>(4 points)</em></li>
</ul>

<hr />

<h3 id="3ï¸âƒ£-crÃ©ation-de-la-vue-indexbladephp-6-points"><strong>3ï¸âƒ£ CrÃ©ation de la Vue <code class="language-plaintext highlighter-rouge">index.blade.php</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 6 :</strong> CrÃ©e une vue <code class="language-plaintext highlighter-rouge">resources/views/images/index.blade.php</code> qui affiche les images sous forme de tableau avec les colonnes suivantes :</p>
<ul>
  <li><strong>Image partagÃ©e</strong>.</li>
  <li><strong>Nom de lâ€™employÃ©</strong> (<em>relation One-to-One</em>).</li>
  <li><strong>Nombre de vues de lâ€™image</strong>.</li>
  <li><strong>Liste des messages de soutien avec leur propre compteur de vues</strong> (<em>relation One-to-Many</em>).</li>
  <li><strong>Liste des types de motivation associÃ©s aux messages</strong> (<em>relation Many-to-Many</em>). <em>(4 points)</em></li>
</ul>

<p>ğŸ“Œ <strong>Question 7 :</strong> Tester le bon fonctionnement de lâ€™affichage et sâ€™assurer que les vues des images et des messages sont bien incrÃ©mentÃ©es aprÃ¨s chaque rafraÃ®chissement de la page. <em>(2 points)</em></p>

<hr />

<h3 id="4ï¸âƒ£-dÃ©finition-de-la-route-et-test-2-points"><strong>4ï¸âƒ£ DÃ©finition de la Route et Test (2 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 8 :</strong> DÃ©clare une route <code class="language-plaintext highlighter-rouge">/images</code> dans <code class="language-plaintext highlighter-rouge">routes/web.php</code> pour appeler la mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> du <code class="language-plaintext highlighter-rouge">ImageController</code>. <em>(1 point)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> Lancer lâ€™application, tester lâ€™affichage dans le navigateur et vÃ©rifier que :</p>
<ul>
  <li>Les <strong>images et leurs messages de soutien</strong> sâ€™affichent correctement.</li>
  <li>Les <strong>vues des images et des messages de soutien</strong> sont bien incrÃ©mentÃ©es.</li>
  <li>Les <strong>messages dÃ©passant 5 rÃ©actions reÃ§oivent automatiquement le type de motivation â€œEncouragementâ€</strong>. <em>(1 point)</em></li>
</ul>

<hr />

<h1 id="partie-2--mini-projet-45-min---20-points"><strong>Partie 2 : Mini-Projet (45 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Ajouter une fonctionnalitÃ© dâ€™Ã©dition des types de motivation associÃ©s aux messages de soutien.</li>
  <li>Permettre la suppression des messages de soutien.</li>
  <li>AmÃ©liorer le design et la responsivitÃ© de lâ€™interface.</li>
</ul>

<h2 id="barÃ¨me--questions-20-points-1"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-modification-des-types-de-motivation-dun-message-8-points"><strong>1ï¸âƒ£ Modification des types de motivation dâ€™un message (8 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> Ajouter une mÃ©thode <code class="language-plaintext highlighter-rouge">updateSupportMotivation(SupportMotivation $support, array $typeMotivationIds)</code> dans <code class="language-plaintext highlighter-rouge">ImageService</code> pour <strong>modifier les types de motivation associÃ©s Ã  un message</strong>. <em>(3 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> CrÃ©er une mÃ©thode <code class="language-plaintext highlighter-rouge">edit($id)</code> dans <code class="language-plaintext highlighter-rouge">SupportMotivationController</code> qui retourne un formulaire dâ€™Ã©dition avec la liste des types de motivation disponibles. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">update(Request $request, $id)</code> dans <code class="language-plaintext highlighter-rouge">SupportMotivationController</code> qui met Ã  jour les types de motivation dâ€™un message en utilisant <code class="language-plaintext highlighter-rouge">ImageService</code>. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 4 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">show($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-ajout-des-boutons-modifier-et-supprimer-6-points"><strong>2ï¸âƒ£ Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> Ajouter dans <code class="language-plaintext highlighter-rouge">index.blade.php</code> une colonne avec <strong>un bouton â€œModifierâ€ redirigeant vers la page dâ€™Ã©dition</strong> du message de soutien. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> Ajouter <strong>un bouton â€œSupprimerâ€ avec un formulaire <code class="language-plaintext highlighter-rouge">DELETE</code></strong> pour supprimer un message de soutien. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 6 :</strong> ImplÃ©menter la mÃ©thode <code class="language-plaintext highlighter-rouge">destroy($id)</code> dans <code class="language-plaintext highlighter-rouge">SupportMotivationController</code> pour gÃ©rer la suppression dâ€™un message de soutien. <em>(2 points)</em></p>

<hr />

<h3 id="3ï¸âƒ£-amÃ©lioration-de-laffichage-avec-du-css-6-points"><strong>3ï¸âƒ£ AmÃ©lioration de lâ€™affichage avec du CSS (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 7 :</strong> Modifier <code class="language-plaintext highlighter-rouge">index.blade.php</code> pour afficher les images et les messages sous forme de <strong>tableau stylisÃ©</strong> en ajoutant un fichier CSS. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 8 :</strong> AmÃ©liorer le <strong>formulaire dâ€™Ã©dition</strong> pour quâ€™il soit plus clair et agrÃ©able visuellement. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> VÃ©rifier que les boutons sont bien alignÃ©s et que lâ€™affichage est <strong>responsive</strong>. <em>(2 points)</em></p>

<hr />

<h2 id="remarque"><strong>Remarque</strong></h2>
<ul>
  <li><strong>Total de lâ€™examen : 40 points.</strong></li>
  <li>Tu peux ajouter en bonus :
    <ul>
      <li><strong>Une alerte de confirmation</strong> avant la suppression dâ€™un message.</li>
      <li><strong>Un filtre pour afficher uniquement les images les plus vues.</strong></li>
      <li><strong>Un champ de recherche</strong> pour trouver une image par son auteur.</li>
    </ul>
  </li>
</ul>

<p>Bonne chance ! ğŸš€</p>

<!--<p>pkg_variante_3/Projet-V3.md</p>
-->
<table class="word-style">
        <tbody>
            <tr>
              <td>
                    <img src="/EFM-Database/assets/images/logo.png" alt="Logo" />
                </td>
                <td colspan="2" class="header">
                    <p>Office de la Formation Professionnelle et de la Promotion du Travail</p>
                    <p>Direction RÃ©gionale Nord Ouest II</p>
                </td>
            </tr>
            <tr>
               <td class="bold">Solicode</td>
               <td class="bold">Examen de Fin de Module</td>
               <td class="bold">Date EFM : 12/02/2025</td>
            </tr>
            <tr>
                <td class="bold">FiliÃ¨re : DMB</td>
                <td class="highlight">Base de donnÃ©es</td>
                <td class="bold">DurÃ©e : 1 h 30 min</td>
            </tr>
            <tr>
               <td class="bold">Groupe : 101</td>
               <td class="">Variante 3</td>
               <td class="bold">AnnÃ©e de formation : 2024/2025</td>
            </tr>
        </tbody>
</table>

<h2 id="contexte-gÃ©nÃ©ral"><strong>Contexte GÃ©nÃ©ral</strong></h2>
<p>Tu travailles sur une <strong>application Laravel</strong> permettant aux membres dâ€™une <strong>association de randonnÃ©e</strong> de partager <strong>une seule proposition de randonnÃ©e</strong>.<br />
Les autres membres peuvent ensuite <strong>ajouter des avis et des suggestions dâ€™amÃ©lioration</strong>.</p>

<p>Lâ€™application doit permettre :</p>
<ul>
  <li><strong>Chaque membre</strong> peut proposer <strong>une seule randonnÃ©e</strong> (<em>relation One-to-One avec <code class="language-plaintext highlighter-rouge">Membre</code></em>).</li>
  <li><strong>Chaque randonnÃ©e</strong> peut recevoir plusieurs <strong>avis</strong> (<em>relation One-to-Many avec <code class="language-plaintext highlighter-rouge">Avis</code></em>).</li>
  <li><strong>Les avis</strong> peuvent contenir <strong>des suggestions dâ€™amÃ©lioration</strong> (<em>relation Many-to-Many avec <code class="language-plaintext highlighter-rouge">Suggestion</code></em>).</li>
</ul>

<p>Lâ€™application doit afficher les propositions de randonnÃ©e, mettre Ã  jour certaines de leurs donnÃ©es et permettre lâ€™Ã©dition et la suppression des avis.</p>

<p>Lâ€™examen est divisÃ© en <strong>deux parties</strong> :</p>

<ol>
  <li><strong>ğŸ”´ Partie 1 : Live Coding (30 minutes, 20 points)</strong>
    <ul>
      <li>Affichage des propositions de randonnÃ©e avec leurs avis.</li>
      <li>IncrÃ©mentation du nombre de vues dâ€™une randonnÃ©e et de ses avis via un Service.</li>
      <li>Ajout automatique dâ€™une suggestion â€œRandonnÃ©e RecommandÃ©eâ€ si une randonnÃ©e reÃ§oit plus de 10 avis positifs.</li>
    </ul>
  </li>
  <li><strong>Partie 2 : Mini-Projet (45 minutes, 20 points)</strong>
    <ul>
      <li>Ajout dâ€™un formulaire permettant de modifier les suggestions associÃ©es Ã  un avis.</li>
      <li>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ pour chaque avis.</li>
      <li>AmÃ©lioration du design de la page avec du CSS.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="-partie-1--live-coding-30-min---20-points"><strong>ğŸ”´ Partie 1 : Live Coding (30 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Afficher la liste des propositions de randonnÃ©e avec leurs avis.</li>
  <li>GÃ©rer le nombre de vues des propositions et des avis.</li>
  <li>Modifier dynamiquement les suggestions dâ€™amÃ©lioration dâ€™un avis (<em>Many-to-Many</em>).</li>
</ul>

<h2 id="barÃ¨me--questions-20-points"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-crÃ©ation-de-la-classe-randonneeservice-6-points"><strong>1ï¸âƒ£ CrÃ©ation de la classe <code class="language-plaintext highlighter-rouge">RandonneeService</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> CrÃ©e une classe <code class="language-plaintext highlighter-rouge">RandonneeService</code> dans <code class="language-plaintext highlighter-rouge">app/Services/</code> et ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">getRandonneesWithAvis()</code> qui retourne la liste des randonnÃ©es avec leurs relations (<code class="language-plaintext highlighter-rouge">membre</code>, <code class="language-plaintext highlighter-rouge">avis</code>, <code class="language-plaintext highlighter-rouge">suggestions</code>). <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementRandonneeViews(Randonnee $randonnee)</code> qui <strong>incrÃ©mente le nombre de vues</strong> de la randonnÃ©e et sauvegarde la modification. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementAvisViews(Randonnee $randonnee)</code> qui <strong>incrÃ©mente le nombre de vues de chaque avis liÃ© Ã  cette randonnÃ©e</strong> et sauvegarde les modifications. <em>(2 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-implÃ©mentation-du-randonneecontroller-6-points"><strong>2ï¸âƒ£ ImplÃ©mentation du <code class="language-plaintext highlighter-rouge">RandonneeController</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> CrÃ©e un contrÃ´leur <code class="language-plaintext highlighter-rouge">RandonneeController</code> et injecte <code class="language-plaintext highlighter-rouge">RandonneeService</code> dans son constructeur via lâ€™Injection de DÃ©pendance. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> ImplÃ©mente une mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> qui :</p>
<ul>
  <li>RÃ©cupÃ¨re la liste des randonnÃ©es via <code class="language-plaintext highlighter-rouge">RandonneeService</code>.</li>
  <li>VÃ©rifie si une randonnÃ©e doit recevoir automatiquement la suggestion â€œRandonnÃ©e RecommandÃ©eâ€ lorsquâ€™elle dÃ©passe <strong>10 avis positifs</strong>.</li>
  <li>Retourne les donnÃ©es Ã  la vue <code class="language-plaintext highlighter-rouge">index.blade.php</code>. <em>(4 points)</em></li>
</ul>

<hr />

<h3 id="3ï¸âƒ£-crÃ©ation-de-la-vue-indexbladephp-6-points"><strong>3ï¸âƒ£ CrÃ©ation de la Vue <code class="language-plaintext highlighter-rouge">index.blade.php</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 6 :</strong> CrÃ©e une vue <code class="language-plaintext highlighter-rouge">resources/views/randonnees/index.blade.php</code> qui affiche les propositions de randonnÃ©e sous forme de tableau avec les colonnes suivantes :</p>
<ul>
  <li><strong>Nom de la randonnÃ©e</strong>.</li>
  <li><strong>Nom du membre</strong> (<em>relation One-to-One</em>).</li>
  <li><strong>Nombre de vues de la randonnÃ©e</strong>.</li>
  <li><strong>Liste des avis avec leur propre compteur de vues</strong> (<em>relation One-to-Many</em>).</li>
  <li><strong>Liste des suggestions dâ€™amÃ©lioration associÃ©es aux avis</strong> (<em>relation Many-to-Many</em>). <em>(4 points)</em></li>
</ul>

<p>ğŸ“Œ <strong>Question 7 :</strong> Tester le bon fonctionnement de lâ€™affichage et sâ€™assurer que les vues des randonnÃ©es et des avis sont bien incrÃ©mentÃ©es aprÃ¨s chaque rafraÃ®chissement de la page. <em>(2 points)</em></p>

<hr />

<h3 id="4ï¸âƒ£-dÃ©finition-de-la-route-et-test-2-points"><strong>4ï¸âƒ£ DÃ©finition de la Route et Test (2 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 8 :</strong> DÃ©clare une route <code class="language-plaintext highlighter-rouge">/randonnees</code> dans <code class="language-plaintext highlighter-rouge">routes/web.php</code> pour appeler la mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> du <code class="language-plaintext highlighter-rouge">RandonneeController</code>. <em>(1 point)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> Lancer lâ€™application, tester lâ€™affichage dans le navigateur et vÃ©rifier que :</p>
<ul>
  <li>Les <strong>propositions de randonnÃ©es et leurs avis</strong> sâ€™affichent correctement.</li>
  <li>Les <strong>vues des randonnÃ©es et des avis</strong> sont bien incrÃ©mentÃ©es.</li>
  <li>Les <strong>randonnÃ©es dÃ©passant 10 avis positifs reÃ§oivent automatiquement la suggestion â€œRandonnÃ©e RecommandÃ©eâ€</strong>. <em>(1 point)</em></li>
</ul>

<hr />

<h1 id="partie-2--mini-projet-45-min---20-points"><strong>Partie 2 : Mini-Projet (45 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Ajouter une fonctionnalitÃ© dâ€™Ã©dition des suggestions associÃ©es aux avis.</li>
  <li>Permettre la suppression des avis.</li>
  <li>AmÃ©liorer le design et la responsivitÃ© de lâ€™interface.</li>
</ul>

<h2 id="barÃ¨me--questions-20-points-1"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-modification-des-suggestions-dun-avis-8-points"><strong>1ï¸âƒ£ Modification des suggestions dâ€™un avis (8 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> Ajouter une mÃ©thode <code class="language-plaintext highlighter-rouge">updateAvisSuggestions(Avis $avis, array $suggestionsIds)</code> dans <code class="language-plaintext highlighter-rouge">RandonneeService</code> pour <strong>modifier les suggestions associÃ©es Ã  un avis</strong>. <em>(3 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> CrÃ©er une mÃ©thode <code class="language-plaintext highlighter-rouge">edit($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui retourne un formulaire dâ€™Ã©dition avec la liste des suggestions disponibles. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">update(Request $request, $id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui met Ã  jour les suggestions associÃ©es Ã  un avis en utilisant <code class="language-plaintext highlighter-rouge">RandonneeService</code>. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 4 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">show($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-ajout-des-boutons-modifier-et-supprimer-6-points"><strong>2ï¸âƒ£ Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> Ajouter dans <code class="language-plaintext highlighter-rouge">index.blade.php</code> une colonne avec <strong>un bouton â€œModifierâ€ redirigeant vers la page dâ€™Ã©dition</strong> de lâ€™avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> Ajouter <strong>un bouton â€œSupprimerâ€ avec un formulaire <code class="language-plaintext highlighter-rouge">DELETE</code></strong> pour supprimer un avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 6 :</strong> ImplÃ©menter la mÃ©thode <code class="language-plaintext highlighter-rouge">destroy($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> pour gÃ©rer la suppression dâ€™un avis. <em>(2 points)</em></p>

<hr />

<h3 id="3ï¸âƒ£-amÃ©lioration-de-laffichage-avec-du-css-6-points"><strong>3ï¸âƒ£ AmÃ©lioration de lâ€™affichage avec du CSS (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 7 :</strong> Modifier <code class="language-plaintext highlighter-rouge">index.blade.php</code> pour afficher les randonnÃ©es et les avis sous forme de <strong>tableau stylisÃ©</strong> en ajoutant un fichier CSS. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 8 :</strong> AmÃ©liorer le <strong>formulaire dâ€™Ã©dition</strong> pour quâ€™il soit plus clair et agrÃ©able visuellement. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> VÃ©rifier que les boutons sont bien alignÃ©s et que lâ€™affichage est <strong>responsive</strong>. <em>(2 points)</em></p>

<hr />

<h2 id="remarque"><strong>Remarque</strong></h2>
<ul>
  <li><strong>Total de lâ€™examen : 40 points.</strong></li>
  <li>Tu peux ajouter en bonus :
    <ul>
      <li><strong>Une alerte de confirmation</strong> avant la suppression dâ€™un avis.</li>
      <li><strong>Un filtre pour afficher uniquement les randonnÃ©es les plus vues.</strong></li>
      <li><strong>Un champ de recherche</strong> pour trouver une randonnÃ©e par son auteur.</li>
    </ul>
  </li>
</ul>

<p>Bonne chance ! ğŸš€</p>

<!--<p>pkg_variante_4/Projet-V4.md</p>
-->
<table class="word-style">
        <tbody>
            <tr>
              <td>
                    <img src="/EFM-Database/assets/images/logo.png" alt="Logo" />
                </td>
                <td colspan="2" class="header">
                    <p>Office de la Formation Professionnelle et de la Promotion du Travail</p>
                    <p>Direction RÃ©gionale Nord Ouest II</p>
                </td>
            </tr>
            <tr>
               <td class="bold">Solicode</td>
               <td class="bold">Examen de Fin de Module</td>
               <td class="bold">Date EFM : 12/02/2025</td>
            </tr>
            <tr>
                <td class="bold">FiliÃ¨re : DMB</td>
                <td class="highlight">Base de donnÃ©es</td>
                <td class="bold">DurÃ©e : 1 h 30 min</td>
            </tr>
            <tr>
               <td class="bold">Groupe : 101</td>
               <td class="">Variante 4</td>
               <td class="bold">AnnÃ©e de formation : 2024/2025</td>
            </tr>
        </tbody>
</table>

<h2 id="contexte-gÃ©nÃ©ral"><strong>Contexte GÃ©nÃ©ral</strong></h2>
<p>Tu travailles sur une <strong>application Laravel</strong> permettant aux joueurs dâ€™une Ã©quipe de football de proposer <strong>une seule stratÃ©gie dâ€™entraÃ®nement</strong>.<br />
Les autres joueurs peuvent ensuite <strong>donner leur avis</strong> sur la stratÃ©gie proposÃ©e.</p>

<p>Lâ€™application doit permettre :</p>
<ul>
  <li><strong>Chaque joueur</strong> peut proposer <strong>une seule stratÃ©gie dâ€™entraÃ®nement</strong> (<em>relation One-to-One avec <code class="language-plaintext highlighter-rouge">Joueur</code></em>).</li>
  <li><strong>Chaque stratÃ©gie</strong> peut recevoir plusieurs <strong>avis</strong> (<em>relation One-to-Many avec <code class="language-plaintext highlighter-rouge">Avis</code></em>).</li>
  <li><strong>Les avis</strong> peuvent contenir <strong>un type de feedback</strong> (<em>relation Many-to-Many avec <code class="language-plaintext highlighter-rouge">TypeFeedback</code></em>).</li>
</ul>

<p>Lâ€™application doit afficher les stratÃ©gies proposÃ©es, mettre Ã  jour certaines de leurs donnÃ©es et permettre lâ€™Ã©dition et la suppression des avis.</p>

<p>Lâ€™examen est divisÃ© en <strong>deux parties</strong> :</p>

<ol>
  <li><strong>ğŸ”´ Partie 1 : Live Coding (30 minutes, 20 points)</strong>
    <ul>
      <li>Affichage des stratÃ©gies dâ€™entraÃ®nement avec leurs avis.</li>
      <li>IncrÃ©mentation du nombre de vues dâ€™une stratÃ©gie et de ses avis via un Service.</li>
      <li>Ajout automatique dâ€™un feedback â€œStratÃ©gie ValidÃ©eâ€ si une stratÃ©gie reÃ§oit plus de 10 avis positifs.</li>
    </ul>
  </li>
  <li><strong>Partie 2 : Mini-Projet (45 minutes, 20 points)</strong>
    <ul>
      <li>Ajout dâ€™un formulaire permettant de modifier les types de feedback dâ€™un avis.</li>
      <li>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ pour chaque avis.</li>
      <li>AmÃ©lioration du design de la page avec du CSS.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="-partie-1--live-coding-30-min---20-points"><strong>ğŸ”´ Partie 1 : Live Coding (30 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Afficher la liste des stratÃ©gies dâ€™entraÃ®nement avec leurs avis.</li>
  <li>GÃ©rer le nombre de vues des stratÃ©gies et des avis.</li>
  <li>Modifier dynamiquement les feedbacks dâ€™un avis (<em>Many-to-Many</em>).</li>
</ul>

<h2 id="barÃ¨me--questions-20-points"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-crÃ©ation-de-la-classe-strategieservice-6-points"><strong>1ï¸âƒ£ CrÃ©ation de la classe <code class="language-plaintext highlighter-rouge">StrategieService</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> CrÃ©e une classe <code class="language-plaintext highlighter-rouge">StrategieService</code> dans <code class="language-plaintext highlighter-rouge">app/Services/</code> et ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">getStrategiesWithAvis()</code> qui retourne la liste des stratÃ©gies avec leurs relations (<code class="language-plaintext highlighter-rouge">joueur</code>, <code class="language-plaintext highlighter-rouge">avis</code>, <code class="language-plaintext highlighter-rouge">typeFeedback</code>). <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementStrategieViews(Strategie $strategie)</code> qui <strong>incrÃ©mente le nombre de vues</strong> de la stratÃ©gie et sauvegarde la modification. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementAvisViews(Strategie $strategie)</code> qui <strong>incrÃ©mente le nombre de vues de chaque avis liÃ© Ã  cette stratÃ©gie</strong> et sauvegarde les modifications. <em>(2 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-implÃ©mentation-du-strategiecontroller-6-points"><strong>2ï¸âƒ£ ImplÃ©mentation du <code class="language-plaintext highlighter-rouge">StrategieController</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> CrÃ©e un contrÃ´leur <code class="language-plaintext highlighter-rouge">StrategieController</code> et injecte <code class="language-plaintext highlighter-rouge">StrategieService</code> dans son constructeur via lâ€™Injection de DÃ©pendance. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> ImplÃ©mente une mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> qui :</p>
<ul>
  <li>RÃ©cupÃ¨re la liste des stratÃ©gies via <code class="language-plaintext highlighter-rouge">StrategieService</code>.</li>
  <li>VÃ©rifie si une stratÃ©gie doit recevoir automatiquement le feedback â€œStratÃ©gie ValidÃ©eâ€ lorsquâ€™elle dÃ©passe <strong>10 avis positifs</strong>.</li>
  <li>Retourne les donnÃ©es Ã  la vue <code class="language-plaintext highlighter-rouge">index.blade.php</code>. <em>(4 points)</em></li>
</ul>

<hr />

<h3 id="3ï¸âƒ£-crÃ©ation-de-la-vue-indexbladephp-6-points"><strong>3ï¸âƒ£ CrÃ©ation de la Vue <code class="language-plaintext highlighter-rouge">index.blade.php</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 6 :</strong> CrÃ©e une vue <code class="language-plaintext highlighter-rouge">resources/views/strategies/index.blade.php</code> qui affiche les stratÃ©gies sous forme de tableau avec les colonnes suivantes :</p>
<ul>
  <li><strong>Nom de la stratÃ©gie</strong>.</li>
  <li><strong>Nom du joueur</strong> (<em>relation One-to-One</em>).</li>
  <li><strong>Nombre de vues de la stratÃ©gie</strong>.</li>
  <li><strong>Liste des avis avec leur propre compteur de vues</strong> (<em>relation One-to-Many</em>).</li>
  <li><strong>Liste des feedbacks associÃ©s aux avis</strong> (<em>relation Many-to-Many</em>). <em>(4 points)</em></li>
</ul>

<p>ğŸ“Œ <strong>Question 7 :</strong> Tester le bon fonctionnement de lâ€™affichage et sâ€™assurer que les vues des stratÃ©gies et des avis sont bien incrÃ©mentÃ©es aprÃ¨s chaque rafraÃ®chissement de la page. <em>(2 points)</em></p>

<hr />

<h3 id="4ï¸âƒ£-dÃ©finition-de-la-route-et-test-2-points"><strong>4ï¸âƒ£ DÃ©finition de la Route et Test (2 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 8 :</strong> DÃ©clare une route <code class="language-plaintext highlighter-rouge">/strategies</code> dans <code class="language-plaintext highlighter-rouge">routes/web.php</code> pour appeler la mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> du <code class="language-plaintext highlighter-rouge">StrategieController</code>. <em>(1 point)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> Lancer lâ€™application, tester lâ€™affichage dans le navigateur et vÃ©rifier que :</p>
<ul>
  <li>Les <strong>stratÃ©gies dâ€™entraÃ®nement et leurs avis</strong> sâ€™affichent correctement.</li>
  <li>Les <strong>vues des stratÃ©gies et des avis</strong> sont bien incrÃ©mentÃ©es.</li>
  <li>Les <strong>stratÃ©gies dÃ©passant 10 avis positifs reÃ§oivent automatiquement le feedback â€œStratÃ©gie ValidÃ©eâ€</strong>. <em>(1 point)</em></li>
</ul>

<hr />

<h1 id="partie-2--mini-projet-45-min---20-points"><strong>Partie 2 : Mini-Projet (45 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Ajouter une fonctionnalitÃ© dâ€™Ã©dition des feedbacks associÃ©s aux avis.</li>
  <li>Permettre la suppression des avis.</li>
  <li>AmÃ©liorer le design et la responsivitÃ© de lâ€™interface.</li>
</ul>

<h2 id="barÃ¨me--questions-20-points-1"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-modification-des-feedbacks-dun-avis-8-points"><strong>1ï¸âƒ£ Modification des feedbacks dâ€™un avis (8 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> Ajouter une mÃ©thode <code class="language-plaintext highlighter-rouge">updateAvisFeedback(Avis $avis, array $feedbackIds)</code> dans <code class="language-plaintext highlighter-rouge">StrategieService</code> pour <strong>modifier les feedbacks associÃ©s Ã  un avis</strong>. <em>(3 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> CrÃ©er une mÃ©thode <code class="language-plaintext highlighter-rouge">edit($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui retourne un formulaire dâ€™Ã©dition avec la liste des feedbacks disponibles. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">update(Request $request, $id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui met Ã  jour les feedbacks dâ€™un avis en utilisant <code class="language-plaintext highlighter-rouge">StrategieService</code>. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 4 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">show($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-ajout-des-boutons-modifier-et-supprimer-6-points"><strong>2ï¸âƒ£ Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> Ajouter dans <code class="language-plaintext highlighter-rouge">index.blade.php</code> une colonne avec <strong>un bouton â€œModifierâ€ redirigeant vers la page dâ€™Ã©dition</strong> de lâ€™avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> Ajouter <strong>un bouton â€œSupprimerâ€ avec un formulaire <code class="language-plaintext highlighter-rouge">DELETE</code></strong> pour supprimer un avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 6 :</strong> ImplÃ©menter la mÃ©thode <code class="language-plaintext highlighter-rouge">destroy($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> pour gÃ©rer la suppression dâ€™un avis. <em>(2 points)</em></p>

<hr />

<h3 id="3ï¸âƒ£-amÃ©lioration-de-laffichage-avec-du-css-6-points"><strong>3ï¸âƒ£ AmÃ©lioration de lâ€™affichage avec du CSS (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 7 :</strong> Modifier <code class="language-plaintext highlighter-rouge">index.blade.php</code> pour afficher les stratÃ©gies et les avis sous forme de <strong>tableau stylisÃ©</strong> en ajoutant un fichier CSS. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 8 :</strong> AmÃ©liorer le <strong>formulaire dâ€™Ã©dition</strong> pour quâ€™il soit plus clair et agrÃ©able visuellement. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> VÃ©rifier que les boutons sont bien alignÃ©s et que lâ€™affichage est <strong>responsive</strong>. <em>(2 points)</em></p>

<hr />

<h2 id="remarque"><strong>Remarque</strong></h2>
<ul>
  <li><strong>Total de lâ€™examen : 40 points.</strong></li>
  <li>Tu peux ajouter en bonus :
    <ul>
      <li><strong>Une alerte de confirmation</strong> avant la suppression dâ€™un avis.</li>
      <li><strong>Un filtre pour afficher uniquement les stratÃ©gies les plus vues.</strong></li>
      <li><strong>Un champ de recherche</strong> pour trouver une stratÃ©gie par son auteur.</li>
    </ul>
  </li>
</ul>

<p>Bonne chance ! ğŸš€</p>

<!--<p>pkg_variante_5/Projet-V5.md</p>
-->
<table class="word-style">
        <tbody>
            <tr>
              <td>
                    <img src="/EFM-Database/assets/images/logo.png" alt="Logo" />
                </td>
                <td colspan="2" class="header">
                    <p>Office de la Formation Professionnelle et de la Promotion du Travail</p>
                    <p>Direction RÃ©gionale Nord Ouest II</p>
                </td>
            </tr>
            <tr>
               <td class="bold">Solicode</td>
               <td class="bold">Examen de Fin de Module</td>
               <td class="bold">Date EFM : 12/02/2025</td>
            </tr>
            <tr>
                <td class="bold">FiliÃ¨re : DMB</td>
                <td class="highlight">Base de donnÃ©es</td>
                <td class="bold">DurÃ©e : 1 h 30 min</td>
            </tr>
            <tr>
               <td class="bold">Groupe : 101</td>
               <td class="">Variante 5</td>
               <td class="bold">AnnÃ©e de formation : 2024/2025</td>
            </tr>
        </tbody>
</table>

<h2 id="contexte-gÃ©nÃ©ral"><strong>Contexte GÃ©nÃ©ral</strong></h2>
<p>Tu travailles sur une <strong>application Laravel</strong> permettant aux utilisateurs de partager <strong>une seule recette de cuisine</strong>.<br />
Les autres utilisateurs peuvent ensuite <strong>donner leur avis et des suggestions dâ€™amÃ©lioration</strong> sur la recette.</p>

<p>Lâ€™application doit permettre :</p>
<ul>
  <li><strong>Chaque utilisateur</strong> peut proposer <strong>une seule recette</strong> (<em>relation One-to-One avec <code class="language-plaintext highlighter-rouge">Utilisateur</code></em>).</li>
  <li><strong>Chaque recette</strong> peut recevoir plusieurs <strong>avis</strong> (<em>relation One-to-Many avec <code class="language-plaintext highlighter-rouge">Avis</code></em>).</li>
  <li><strong>Les avis</strong> peuvent contenir <strong>des suggestions dâ€™amÃ©lioration</strong> (<em>relation Many-to-Many avec <code class="language-plaintext highlighter-rouge">Suggestion</code></em>).</li>
</ul>

<p>Lâ€™application doit afficher les recettes, mettre Ã  jour certaines de leurs donnÃ©es et permettre lâ€™Ã©dition et la suppression des avis.</p>

<p>Lâ€™examen est divisÃ© en <strong>deux parties</strong> :</p>

<ol>
  <li><strong>ğŸ”´ Partie 1 : Live Coding (30 minutes, 20 points)</strong>
    <ul>
      <li>Affichage des recettes avec leurs avis.</li>
      <li>IncrÃ©mentation du nombre de vues dâ€™une recette et de ses avis via un Service.</li>
      <li>Ajout automatique dâ€™une suggestion â€œPlat Favoriâ€ si une recette reÃ§oit plus de 10 avis positifs.</li>
    </ul>
  </li>
  <li><strong>Partie 2 : Mini-Projet (45 minutes, 20 points)</strong>
    <ul>
      <li>Ajout dâ€™un formulaire permettant de modifier les suggestions associÃ©es Ã  un avis.</li>
      <li>Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ pour chaque avis.</li>
      <li>AmÃ©lioration du design de la page avec du CSS.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="-partie-1--live-coding-30-min---20-points"><strong>ğŸ”´ Partie 1 : Live Coding (30 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Afficher la liste des recettes avec leurs avis.</li>
  <li>GÃ©rer le nombre de vues des recettes et des avis.</li>
  <li>Modifier dynamiquement les suggestions dâ€™amÃ©lioration dâ€™un avis (<em>Many-to-Many</em>).</li>
</ul>

<h2 id="barÃ¨me--questions-20-points"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-crÃ©ation-de-la-classe-recetteservice-6-points"><strong>1ï¸âƒ£ CrÃ©ation de la classe <code class="language-plaintext highlighter-rouge">RecetteService</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> CrÃ©e une classe <code class="language-plaintext highlighter-rouge">RecetteService</code> dans <code class="language-plaintext highlighter-rouge">app/Services/</code> et ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">getRecettesWithAvis()</code> qui retourne la liste des recettes avec leurs relations (<code class="language-plaintext highlighter-rouge">utilisateur</code>, <code class="language-plaintext highlighter-rouge">avis</code>, <code class="language-plaintext highlighter-rouge">suggestions</code>). <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementRecetteViews(Recette $recette)</code> qui <strong>incrÃ©mente le nombre de vues</strong> de la recette et sauvegarde la modification. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> Ajoute une mÃ©thode <code class="language-plaintext highlighter-rouge">incrementAvisViews(Recette $recette)</code> qui <strong>incrÃ©mente le nombre de vues de chaque avis liÃ© Ã  cette recette</strong> et sauvegarde les modifications. <em>(2 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-implÃ©mentation-du-recettecontroller-6-points"><strong>2ï¸âƒ£ ImplÃ©mentation du <code class="language-plaintext highlighter-rouge">RecetteController</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> CrÃ©e un contrÃ´leur <code class="language-plaintext highlighter-rouge">RecetteController</code> et injecte <code class="language-plaintext highlighter-rouge">RecetteService</code> dans son constructeur via lâ€™Injection de DÃ©pendance. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> ImplÃ©mente une mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> qui :</p>
<ul>
  <li>RÃ©cupÃ¨re la liste des recettes via <code class="language-plaintext highlighter-rouge">RecetteService</code>.</li>
  <li>VÃ©rifie si une recette doit recevoir automatiquement la suggestion â€œPlat Favoriâ€ lorsquâ€™elle dÃ©passe <strong>10 avis positifs</strong>.</li>
  <li>Retourne les donnÃ©es Ã  la vue <code class="language-plaintext highlighter-rouge">index.blade.php</code>. <em>(4 points)</em></li>
</ul>

<hr />

<h3 id="3ï¸âƒ£-crÃ©ation-de-la-vue-indexbladephp-6-points"><strong>3ï¸âƒ£ CrÃ©ation de la Vue <code class="language-plaintext highlighter-rouge">index.blade.php</code> (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 6 :</strong> CrÃ©e une vue <code class="language-plaintext highlighter-rouge">resources/views/recettes/index.blade.php</code> qui affiche les recettes sous forme de tableau avec les colonnes suivantes :</p>
<ul>
  <li><strong>Nom de la recette</strong>.</li>
  <li><strong>Nom du cuisinier</strong> (<em>relation One-to-One</em>).</li>
  <li><strong>Nombre de vues de la recette</strong>.</li>
  <li><strong>Liste des avis avec leur propre compteur de vues</strong> (<em>relation One-to-Many</em>).</li>
  <li><strong>Liste des suggestions dâ€™amÃ©lioration associÃ©es aux avis</strong> (<em>relation Many-to-Many</em>). <em>(4 points)</em></li>
</ul>

<p>ğŸ“Œ <strong>Question 7 :</strong> Tester le bon fonctionnement de lâ€™affichage et sâ€™assurer que les vues des recettes et des avis sont bien incrÃ©mentÃ©es aprÃ¨s chaque rafraÃ®chissement de la page. <em>(2 points)</em></p>

<hr />

<h3 id="4ï¸âƒ£-dÃ©finition-de-la-route-et-test-2-points"><strong>4ï¸âƒ£ DÃ©finition de la Route et Test (2 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 8 :</strong> DÃ©clare une route <code class="language-plaintext highlighter-rouge">/recettes</code> dans <code class="language-plaintext highlighter-rouge">routes/web.php</code> pour appeler la mÃ©thode <code class="language-plaintext highlighter-rouge">index()</code> du <code class="language-plaintext highlighter-rouge">RecetteController</code>. <em>(1 point)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> Lancer lâ€™application, tester lâ€™affichage dans le navigateur et vÃ©rifier que :</p>
<ul>
  <li>Les <strong>recettes et leurs avis</strong> sâ€™affichent correctement.</li>
  <li>Les <strong>vues des recettes et des avis</strong> sont bien incrÃ©mentÃ©es.</li>
  <li>Les <strong>recettes dÃ©passant 10 avis positifs reÃ§oivent automatiquement la suggestion â€œPlat Favoriâ€</strong>. <em>(1 point)</em></li>
</ul>

<hr />

<h1 id="partie-2--mini-projet-45-min---20-points"><strong>Partie 2 : Mini-Projet (45 min - 20 points)</strong></h1>
<p>ğŸ“Œ <strong>Objectif :</strong></p>
<ul>
  <li>Ajouter une fonctionnalitÃ© dâ€™Ã©dition des suggestions associÃ©es aux avis.</li>
  <li>Permettre la suppression des avis.</li>
  <li>AmÃ©liorer le design et la responsivitÃ© de lâ€™interface.</li>
</ul>

<h2 id="barÃ¨me--questions-20-points-1"><strong>BarÃ¨me &amp; Questions (20 points)</strong></h2>
<h3 id="1ï¸âƒ£-modification-des-suggestions-dun-avis-8-points"><strong>1ï¸âƒ£ Modification des suggestions dâ€™un avis (8 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 1 :</strong> Ajouter une mÃ©thode <code class="language-plaintext highlighter-rouge">updateAvisSuggestions(Avis $avis, array $suggestionsIds)</code> dans <code class="language-plaintext highlighter-rouge">RecetteService</code> pour <strong>modifier les suggestions associÃ©es Ã  un avis</strong>. <em>(3 points)</em><br />
ğŸ“Œ <strong>Question 2 :</strong> CrÃ©er une mÃ©thode <code class="language-plaintext highlighter-rouge">edit($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui retourne un formulaire dâ€™Ã©dition avec la liste des suggestions disponibles. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 3 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">update(Request $request, $id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> qui met Ã  jour les suggestions associÃ©es Ã  un avis en utilisant <code class="language-plaintext highlighter-rouge">RecetteService</code>. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 4 :</strong> ImplÃ©menter une mÃ©thode <code class="language-plaintext highlighter-rouge">show($id)</code> dans <code class="language-plaintext highlighter-rouge">ArticleController</code>. <em>(1 points)</em></p>

<hr />

<h3 id="2ï¸âƒ£-ajout-des-boutons-modifier-et-supprimer-6-points"><strong>2ï¸âƒ£ Ajout des boutons â€œModifierâ€ et â€œSupprimerâ€ (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 4 :</strong> Ajouter dans <code class="language-plaintext highlighter-rouge">index.blade.php</code> une colonne avec <strong>un bouton â€œModifierâ€ redirigeant vers la page dâ€™Ã©dition</strong> de lâ€™avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 5 :</strong> Ajouter <strong>un bouton â€œSupprimerâ€ avec un formulaire <code class="language-plaintext highlighter-rouge">DELETE</code></strong> pour supprimer un avis. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 6 :</strong> ImplÃ©menter la mÃ©thode <code class="language-plaintext highlighter-rouge">destroy($id)</code> dans <code class="language-plaintext highlighter-rouge">AvisController</code> pour gÃ©rer la suppression dâ€™un avis. <em>(2 points)</em></p>

<hr />

<h3 id="3ï¸âƒ£-amÃ©lioration-de-laffichage-avec-du-css-6-points"><strong>3ï¸âƒ£ AmÃ©lioration de lâ€™affichage avec du CSS (6 points)</strong></h3>
<p>ğŸ“Œ <strong>Question 7 :</strong> Modifier <code class="language-plaintext highlighter-rouge">index.blade.php</code> pour afficher les recettes et les avis sous forme de <strong>tableau stylisÃ©</strong> en ajoutant un fichier CSS. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 8 :</strong> AmÃ©liorer le <strong>formulaire dâ€™Ã©dition</strong> pour quâ€™il soit plus clair et agrÃ©able visuellement. <em>(2 points)</em><br />
ğŸ“Œ <strong>Question 9 :</strong> VÃ©rifier que les boutons sont bien alignÃ©s et que lâ€™affichage est <strong>responsive</strong>. <em>(2 points)</em></p>

<hr />

<h2 id="remarque"><strong>Remarque</strong></h2>
<ul>
  <li><strong>Total de lâ€™examen : 40 points.</strong></li>
  <li>Tu peux ajouter en bonus :
    <ul>
      <li><strong>Une alerte de confirmation</strong> avant la suppression dâ€™un avis.</li>
      <li><strong>Un filtre pour afficher uniquement les recettes les plus vues.</strong></li>
      <li><strong>Un champ de recherche</strong> pour trouver une recette par son auteur.</li>
    </ul>
  </li>
</ul>

<p>Bonne chance ! ğŸš€</p>


        </div>
    </div>
</body>



<!-- TODO ESSARRAJ : expliquer (ES6, module, import) dans lab-javascript et indiquer le lien de rapport de lab dans les prÃ©requis  -->
<script type="module" src="/EFM-Database/assets/js/app.js"></script>

</html>